{"version":3,"sources":["services/phonebook.js","components/Contacts.js","components/PersonForm.js","components/Filter.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Contacts","persons","newSearch","setPersons","setErrorMessage","personsToShow","filter","person","name","includes","Contact","number","toggleDelete","onClick","map","find","n","console","log","window","confirm","phoneService","allBook","p","catch","error","toggleDeleteOf","PersonForm","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","target","allNames","push","changedNumber","returnedNumber","returnedBook","concat","value","onChange","type","Filter","setSearch","App","errorMessage","useEffect","initialBook","length","Notification","message","style","color","background","fontSize","border","borderColor","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ab6eb149.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, deleteContact, update }\r\n","import React from 'react'\r\nimport phoneService from '../services/phonebook.js'\r\n\r\nconst Contacts = ({persons, newSearch, setPersons, setErrorMessage}) => {\r\n    const personsToShow = newSearch === ''\r\n    ? persons\r\n    : persons.filter(person => person.name.includes(newSearch))\r\n\r\n    const Contact = ({name,number, toggleDelete})=>{\r\n        return(\r\n          \r\n        <li>\r\n          {name}  {number}\r\n        <button onClick={toggleDelete}>Delete</button>\r\n        </li>\r\n        )}\r\n    \r\n    const toggleDeleteOf = id => {\r\n    const person = persons.find(n => n.id === id)\r\n    console.log(person)\r\n\r\n    const ok = window.confirm(`Delete ${person.name} ?`)\r\n    \r\n    if (ok){\r\n      phoneService\r\n      .deleteContact(id)\r\n      .then(allBook => {\r\n      setPersons(persons.filter(p => p.id !== id))})\r\n      .catch(error => {\r\n        setErrorMessage(`the contact '${person.name}' was already deleted from server`)\r\n        setPersons(persons.filter(n => n.id !== id-1)) //filter out deleted note\r\n      }) \r\n    }\r\n  }\r\n\r\n    return (\r\n      <div>\r\n        {personsToShow.map(person =>\r\n        <Contact key = {person.name}\r\n         name = {person.name}\r\n          number = {person.number}\r\n          toggleDelete={() => toggleDeleteOf(person.id)}/>\r\n      )}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Contacts","import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport phoneService from '../services/phonebook.js'\r\n\r\n\r\nconst PersonForm = ({persons, setPersons, setErrorMessage}) => {\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    console.log('button clicked',event.target)\r\n\r\n    const allNames = []\r\n    persons.map(person =>\r\n      allNames.push(person.name)\r\n    )\r\n\r\n    if (allNames.includes(newName)){\r\n      const person = persons.find(n => n.name === newName)\r\n      const ok = window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)\r\n      if (ok){\r\n        const changedNumber = { ...person, number: newNumber }\r\n        phoneService\r\n        .update(person.id, changedNumber)\r\n        .then(returnedNumber => {\r\n        setPersons(persons.map(person => person.name !== newName ? person : returnedNumber))\r\n        setNewName('')\r\n        setNewNumber('')\r\n    })\r\n        }\r\n    }\r\n    else{\r\n    phoneService.create({\r\n      name: newName,\r\n      number: newNumber\r\n    }).then(returnedBook=> {\r\n      setPersons(persons.concat(returnedBook))\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }).catch(error =>{\r\n      setErrorMessage(error.response.data.error)\r\n      console.log(error.response.data.error)\r\n    })\r\n  } \r\n}\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n    return (\r\n        <div>\r\n            <form  onSubmit = {addName}>\r\n                <div> name: <input  value = {newName} onChange = {handleNameChange}/> </div>\r\n                <div> number: <input value = {newNumber} onChange = {handleNumberChange} /></div>\r\n                <div> <button type=\"submit\">add</button> </div>\r\n            </form>   \r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","\r\nimport React, { useState } from 'react'\r\n\r\nconst Filter = ({persons, newSearch, setSearch}) => {\r\n  const handleSearch = (event) => {\r\n    console.log(event.target.value)\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n    return (\r\n      <div> filter shown with: <input  value = {newSearch} onChange = {handleSearch}/> </div>\r\n    )\r\n  }\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react'\r\nimport Contacts from './components/Contacts.js'\r\nimport PersonForm from './components/PersonForm.js'\r\nimport Filter from './components/Filter.js'\r\nimport axios from 'axios'\r\nimport phoneService from './services/phonebook.js'\r\nimport reactDom from 'react-dom'\r\n\r\nconst App = () => {\r\n  /*\r\n  const [persons, setPersons] = useState([\r\n    { name: 'Arto Hellas', number: '040-123456' },\r\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n    { name: 'Dan Abramov', number: '12-43-234345' },\r\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\r\n  ]) */\r\n\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const [persons, setPersons] = useState([])\r\n  \r\n  useEffect(() => {\r\n    phoneService\r\n    .getAll()\r\n    .then(initialBook => {\r\n        setPersons(initialBook)\r\n      })\r\n  }, [])\r\n  console.log('render', persons.length, 'persons')\r\n\r\n  const [newSearch, setSearch ] = useState('')\r\n  const Notification = ({message}) =>{\r\n    const NotificationStyle = {\r\n      color: 'red',\r\n      background: 'lightgrey',\r\n      fontSize: 20,\r\n      border: '1px solid rgba(0,0,0,0.05)',\r\n      borderColor : 'red'\r\n    }\r\n    if (message === ''){\r\n      return null\r\n    }\r\n    return(\r\n      <div style = {NotificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message = {errorMessage}/>\r\n\r\n      <Filter newSearch = {newSearch} setSearch = {setSearch} persons = {persons} />\r\n\r\n      <h3>Add a new </h3>\r\n\r\n      <PersonForm persons = {persons} setPersons = {setPersons} setErrorMessage = {setErrorMessage}/>   \r\n\r\n      <h3>Numbers</h3>\r\n\r\n      <Contacts persons = {persons} newSearch = {newSearch} setPersons = {setPersons} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}