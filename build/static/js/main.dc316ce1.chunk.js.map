{"version":3,"sources":["services/phonebook.js","components/Contacts.js","components/PersonForm.js","components/Filter.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Contacts","persons","newSearch","setPersons","setErrorMessage","personsToShow","filter","person","name","includes","Contact","number","toggleDelete","onClick","map","find","n","console","log","window","confirm","phoneService","allBook","p","catch","error","toggleDeleteOf","PersonForm","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","target","allNames","push","changedNumber","returnedNumber","returnedBook","concat","message","value","onChange","type","Filter","setSearch","App","errorMessage","useEffect","initialBook","length","Notification","style","colour","background","fontSize","border","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dc316ce1.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, deleteContact, update }\r\n","import React from 'react'\r\nimport phoneService from '../services/phonebook.js'\r\n\r\nconst Contacts = ({persons, newSearch, setPersons, setErrorMessage}) => {\r\n    const personsToShow = newSearch === ''\r\n    ? persons\r\n    : persons.filter(person => person.name.includes(newSearch))\r\n\r\n    const Contact = ({name,number, toggleDelete})=>{\r\n        return(\r\n          \r\n        <li>\r\n          {name}  {number}\r\n        <button onClick={toggleDelete}>Delete</button>\r\n        </li>\r\n        )}\r\n    \r\n    const toggleDeleteOf = id => {\r\n    const person = persons.find(n => n.id === id)\r\n    console.log(person)\r\n\r\n    const ok = window.confirm(`Delete ${person.name} ?`)\r\n    \r\n    if (ok){\r\n      phoneService\r\n      .deleteContact(id)\r\n      .then(allBook => {\r\n      setPersons(persons.filter(p => p.id !== id))})\r\n      .catch(error => {\r\n        setErrorMessage(`the contact '${person.name}' was already deleted from server`)\r\n        setPersons(persons.filter(n => n.id !== id-1)) //filter out deleted note\r\n      }) \r\n    }\r\n  }\r\n\r\n    return (\r\n      <div>\r\n        {personsToShow.map(person =>\r\n        <Contact key = {person.name}\r\n         name = {person.name}\r\n          number = {person.number}\r\n          toggleDelete={() => toggleDeleteOf(person.id)}/>\r\n      )}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Contacts","import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport phoneService from '../services/phonebook.js'\r\n\r\nconst PersonForm = ({persons, setPersons, setErrorMessage}) => {\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    console.log('button clicked',event.target)\r\n\r\n    const allNames = []\r\n    persons.map(person =>\r\n      allNames.push(person.name)\r\n    )\r\n\r\n    if (allNames.includes(newName)){\r\n      const person = persons.find(n => n.name === newName)\r\n      const ok = window.confirm(`${person.name} is already added to phonebook,\r\n       replace the old number with a new one?`)\r\n      if (ok){\r\n        const changedNumber = { ...person, number: newNumber }\r\n        phoneService\r\n        .update(person.id, changedNumber)\r\n        .then(returnedNumber => {\r\n        setPersons(persons.map(person => person.name !== newName ? person : returnedNumber))\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }).catch(error =>{\r\n      setErrorMessage(error.response.data)\r\n      console.log(error.response.data)\r\n    })\r\n        }\r\n    }\r\n    else{\r\n    \r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    phoneService\r\n    .create(nameObject)\r\n    .then(returnedBook=> {\r\n      setPersons(persons.concat(returnedBook))\r\n      setNewName('')\r\n      setNewNumber('')\r\n    })\r\n    .catch(error =>{\r\n      setErrorMessage(error.message)\r\n      console.log(error.message)\r\n    })\r\n\r\n  } \r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n    return (\r\n        <div>\r\n            <form  onSubmit = {addName}>\r\n                <div> name: <input  value = {newName} onChange = {handleNameChange}/> </div>\r\n                <div> number: <input value = {newNumber} onChange = {handleNumberChange} /></div>\r\n                <div> <button type=\"submit\">add</button> </div>\r\n            </form>   \r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","\r\nimport React, { useState } from 'react'\r\n\r\nconst Filter = ({persons, newSearch, setSearch}) => {\r\n  const handleSearch = (event) => {\r\n    console.log(event.target.value)\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n    return (\r\n      <div> filter shown with: <input  value = {newSearch} onChange = {handleSearch}/> </div>\r\n    )\r\n  }\r\n\r\nexport default Filter","import React, { useState, useEffect } from 'react'\r\nimport Contacts from './components/Contacts.js'\r\nimport PersonForm from './components/PersonForm.js'\r\nimport Filter from './components/Filter.js'\r\nimport axios from 'axios'\r\nimport phoneService from './services/phonebook.js'\r\nimport reactDom from 'react-dom'\r\n\r\nconst App = () => {\r\n  /*\r\n  const [persons, setPersons] = useState([\r\n    { name: 'Arto Hellas', number: '040-123456' },\r\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n    { name: 'Dan Abramov', number: '12-43-234345' },\r\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\r\n  ]) */\r\n\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const [persons, setPersons] = useState([])\r\n  \r\n  useEffect(() => {\r\n    phoneService\r\n    .getAll()\r\n    .then(initialBook => {\r\n        setPersons(initialBook)\r\n      })\r\n  }, [])\r\n  console.log('render', persons.length, 'persons')\r\n\r\n  const [newSearch, setSearch ] = useState('')\r\n  const Notification = (message) =>{\r\n    const NotificationStyle = {\r\n      colour: 'red',\r\n      background: 'lightgrey',\r\n      fontSize: 20,\r\n      border: '1px solid rgba(1,0,0,0.05)'\r\n    }\r\n    if (message === ''){\r\n      return null\r\n    }\r\n    return(\r\n      <div style = {NotificationStyle}>\r\n        {errorMessage}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message = {errorMessage}/>\r\n\r\n      <Filter newSearch = {newSearch} setSearch = {setSearch} persons = {persons} />\r\n\r\n      <h3>Add a new </h3>\r\n\r\n      <PersonForm persons = {persons} setPersons = {setPersons} setErrorMessage = {setErrorMessage}/>   \r\n\r\n      <h3>Numbers</h3>\r\n\r\n      <Contacts persons = {persons} newSearch = {newSearch} setPersons = {setPersons} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}